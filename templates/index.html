{% extends 'base.html' %}

{% block extra_head %}
<script src="/static/pilasweb/pilasengine/libs/require.js"></script>

<script type="text/javascript">

  require.config({
    baseUrl: "/static/pilasweb/pilasengine",
  });

  require(['main'], function(pilasengine){
    var pilas = new pilasengine.Pilas("canvas", 'static/pilasweb/data/');

    window.pilas = pilas;
    pilas.depurador.definir_modos({depuracion: true});

    var aceituna = new pilas.actores.Aceituna();
    aceituna.x = 100;
  });

</script>


  <!-- Agregando codemirror -->
  <link rel="stylesheet" href="static/CodeMirror/lib/codemirror.css">
  <link rel="stylesheet" href="static/CodeMirror/lib/util/simple-hint.css">
  <link rel="stylesheet" href="static/CodeMirror/doc/docs.css">

  <script src="static/CodeMirror/lib/codemirror.js"></script>
  <script src="static/CodeMirror/lib/util/simple-hint.js"></script>
  <script src="static/CodeMirror/lib/util/javascript-hint.js"></script>
  <script src="static/CodeMirror/mode/javascript/javascript.js"></script>

  <style type="text/css">.CodeMirror {border: 1px solid #eee;} .CodeMirror-scroll { height: 100% }</style>

  <!-- fin codemirror -->
{% endblock %}

{% block content %}

<canvas id='canvas' width=320 height=240></canvas>


<p>
<button id='ejecutar' class='btn btn-primary'><i class="icon-play icon-white"></i>Ejecutar programa</button>

<p>
<div id='contenedor'>
<textarea id="code" name="code">var actor = new pilas.actores.Actor();
actor.y = 100;
</textarea>
</div>

<p>Us√° <code>ctrl+n</code> para autocompletar!

<script>
  CodeMirror.commands.autocomplete = function(cm) {
    CodeMirror.simpleHint(cm, CodeMirror.javascriptHint);
  }
  
  var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
    lineNumbers: true,
    extraKeys: {"Ctrl-N": "autocomplete"}
  });
</script>


{% endblock %}
